<div class="max-w-3xl mx-auto p-6">
  <div class="mb-6">
    <%= link_to "â† Back to List", people_path, class: "text-blue-600 hover:text-blue-800 text-sm font-medium" %>
  </div>

  <% if flash[:notice] %>
    <div class="bg-green-50 border border-green-200 text-green-800 rounded-lg p-4 mb-6">
      <%= flash[:notice] %>
    </div>
  <% end %>

  <div class="bg-white shadow rounded-lg overflow-hidden">
    <div class="px-6 py-4 bg-gray-50 border-b border-gray-200">
      <h1 class="text-2xl font-bold text-gray-900">PII Record Details</h1>
      <p class="mt-1 text-sm text-gray-500">Created <%= @person.created_at.strftime("%B %d, %Y at %I:%M %p") %></p>
    </div>

    <div class="px-6 py-6 space-y-6">
      <div>
        <h2 class="text-lg font-semibold text-gray-900 mb-4">Personal Information</h2>
        <dl class="grid grid-cols-1 gap-4 sm:grid-cols-2">
          <div>
            <dt class="text-sm font-medium text-gray-500">Full Name</dt>
            <dd class="mt-1 text-sm text-gray-900"><%= @person.full_name %></dd>
          </div>

          <div>
            <dt class="text-sm font-medium text-gray-500">Social Security Number</dt>
            <dd class="mt-1 text-sm text-gray-900 font-mono"><%= @person.masked_ssn %></dd>
          </div>

          <div>
            <dt class="text-sm font-medium text-gray-500">First Name</dt>
            <dd class="mt-1 text-sm text-gray-900"><%= @person.first_name %></dd>
          </div>

          <div>
            <dt class="text-sm font-medium text-gray-500">Middle Name</dt>
            <dd class="mt-1 text-sm text-gray-900">
              <%= @person.middle_name.present? ? @person.middle_name : "(Not provided)" %>
            </dd>
          </div>

          <div>
            <dt class="text-sm font-medium text-gray-500">Last Name</dt>
            <dd class="mt-1 text-sm text-gray-900"><%= @person.last_name %></dd>
          </div>
        </dl>
      </div>

      <div class="border-t border-gray-200 pt-6">
        <h2 class="text-lg font-semibold text-gray-900 mb-4">Address</h2>
        <dl class="grid grid-cols-1 gap-4 sm:grid-cols-2">
          <div class="sm:col-span-2">
            <dt class="text-sm font-medium text-gray-500">Street Address</dt>
            <dd class="mt-1 text-sm text-gray-900">
              <%= @person.street_address_1 %><br>
              <%= @person.street_address_2 if @person.street_address_2.present? %>
            </dd>
          </div>

          <div>
            <dt class="text-sm font-medium text-gray-500">City</dt>
            <dd class="mt-1 text-sm text-gray-900"><%= @person.city %></dd>
          </div>

          <div>
            <dt class="text-sm font-medium text-gray-500">State</dt>
            <dd class="mt-1 text-sm text-gray-900"><%= @person.state %></dd>
          </div>

          <div>
            <dt class="text-sm font-medium text-gray-500">ZIP Code</dt>
            <dd class="mt-1 text-sm text-gray-900 font-mono"><%= @person.zip_code %></dd>
          </div>
        </dl>
      </div>

      <div class="border-t border-gray-200 pt-6">
        <h2 class="text-lg font-semibold text-gray-900 mb-4">Record Information</h2>
        <dl class="grid grid-cols-1 gap-4 sm:grid-cols-2">
          <div>
            <dt class="text-sm font-medium text-gray-500">Record ID</dt>
            <dd class="mt-1 text-sm text-gray-900 font-mono">#<%= @person.id %></dd>
          </div>

          <div>
            <dt class="text-sm font-medium text-gray-500">Last Updated</dt>
            <dd class="mt-1 text-sm text-gray-900"><%= @person.updated_at.strftime("%B %d, %Y at %I:%M %p") %></dd>
          </div>
        </dl>
      </div>
    </div>

    <div class="px-6 py-4 bg-gray-50 border-t border-gray-200 flex gap-3">
      <%= link_to "Back to List", people_path, class: "bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-6 rounded-lg shadow transition duration-150 ease-in-out" %>
    </div>
  </div>
</div>
